<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>Flowww: Functional Dataflow Web Applications in PLT Scheme</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="scheme.css" title="default" /><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default" /><script type="text/javascript" src="scribble-common.js"></script></head><body id="scribble-plt-scheme-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="flowww.html" class="tocviewselflink" pltdoc="x"><span style="font-weight: bold">Flowww</span>:<span class="mywbr"> </span> Functional Dataflow Web Applications in PLT Scheme</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="flowww.html#(part._.Getting_.Started)" class="tocviewlink" pltdoc="x">Getting Started</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="flowww.html#(part._.The_.Application)" class="tocviewlink" pltdoc="x">The Application</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="flowww.html#(part._.Static_.Fritter)" class="tocviewlink" pltdoc="x">Static Fritter</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="flowww.html#(part._.Adding_.Flowww___)" class="tocviewlink" pltdoc="x">Adding Flowww...</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#(part._.Getting_.Started)" class="tocsubseclink" pltdoc="x">Getting Started</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#(part._.The_.Application)" class="tocsubseclink" pltdoc="x">The Application</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#(part._.Static_.Fritter)" class="tocsubseclink" pltdoc="x">Static Fritter</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#(part._.Adding_.Flowww___)" class="tocsubseclink" pltdoc="x">Adding Flowww...</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><h2><a name="(part._.Flowww__.Functional_.Dataflow_.Web_.Applications_in_.P.L.T_.Scheme)"></a><span style="font-weight: bold">Flowww</span>: Functional Dataflow Web Applications in PLT Scheme</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Jensen Warnock &lt;<a href="mailto:jhwarnock@gmail.com">jhwarnock@gmail.com</a>&gt;</p></span></div><p>After finishing the <a href="http://docs.plt-scheme.org/continue/index.html">Continue Tutorial</a>, you should
have a basic understanding of PLT Web server. This tutorial will show
how you can build functional Web applications that utilize a dataflow
graph for variable updates using PLT Scheme.  As our working example,
we&rsquo;ll build a simple twitter-like application.  We&rsquo;ll cover how to start
up a functional Web server, how to generate dynamic Web content in a
dataflow model, and how to interact with the user in this new style.</p><p>The target audience for this tutorial are students who&rsquo;ve gone through
the design and use of structures in
<span style="font-style: italic"><a href="http://www.htdp.org/">How to Design Programs</a></span>, with
some higher-order functions, <span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/reference/local.html#(form._((lib._scheme/local..ss)._local))" class="ScmStxLink" pltdoc="x">local</a></span>, a minor bit of mutation,
and of course the <a href="http://docs.plt-scheme.org/continue/index.html">Continue Tutorial</a>.</p><h3>1<tt>&nbsp;</tt><a name="(part._.Getting_.Started)"></a>Getting Started</h3><p>Everything you needed in this tutorial is provided in <a href="http://plt-scheme.org/">PLT Scheme</a>.
You will be using the DrScheme using the module language with FrTime.
Enter the following into the Definition window.</p><p><table cellspacing="0" class="ScmBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><a href="file:///home/maestro/Dev/svn/plt/doc/guide/Module_Syntax.html#(part._hash-lang)" class="ScmModLink" pltdoc="x"><span class="ScmMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="file:///home/maestro/Dev/svn/plt/doc/reference/index.html" class="ScmModLink" pltdoc="x"><span class="ScmSym">scheme</span></a></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/reference/require.html#(form._((lib._scheme/base..ss)._require))" class="ScmStxLink" pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/reference/require.html#(form._((lib._scheme/base..ss)._planet))" class="ScmStxLink" pltdoc="x">planet</a></span><span class="hspace">&nbsp;</span><span class="ScmSym">byu-plt/flowww:1:0</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/reference/require.html#(form._((lib._scheme/base..ss)._require))" class="ScmStxLink" pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="ScmSym">web-server/servlet-env</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/reference/define.html#(form._((lib._scheme/base..ss)._define))" class="ScmStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmPn">(</span><span class="ScmSym">make-start</span><span class="ScmPn">)</span><span class="hspace">&nbsp;</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/web-server/http.html#(def._((lib._web-server/http/request-structs..ss)._request))" class="ScmValLink" pltdoc="x">request</a></span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmVal">'</span><span class="ScmVal">(</span><span class="ScmVal">html</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">head</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">title</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Fwitter"</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">body</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">h1</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Under construction"</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">serve/servlet</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">wrap-start</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-start</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr></table></p><p>Press the <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Run</span> button.  If a Web browser comes up with an &ldquo;Under
Construction&rdquo; page, then pat yourself on the back. It doesn&rsquo;t do anything yet, and has
no actual functional reactivity, but you will get there.  Press the
<span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Stop</span> button to shut the server down for now.</p><h3>2<tt>&nbsp;</tt><a name="(part._.The_.Application)"></a>The Application</h3><p>Through this tutorial you will be shown how to develop a basic
Twitter-esque application. Users should be able to create accounts,
tweet (or fweet), and follow as other change there message. You will
start out with a working Static Fwitter application, and add the reactivity
piece by piece using Flowww.
Along the way, you will see some of the issues faced in building Web apps
and how Flowww addresses them.
By the end of this tutorial, I&rsquo;ll have a simple Twitter-ish application.</p><h3>3<tt>&nbsp;</tt><a name="(part._.Static_.Fritter)"></a>Static Fritter</h3><p>Start by considering the data definitions.  Define a user as a name
and a status. A status will be a single string that changes (no past status
will be available to view once the status changes).</p><p>For this example, you will see how Flowww allows programmers
to interact with a non-function persistant data store as though it
is functional. So let&rsquo;s store our users in a hash. You will use the
username as the key to the hash and the staus as the value. You will
also store the users being followed in a hash. the username will be
the key, and the value will be the list of usernames that user follows.</p><p><div class="SIntrapara">If you would like some practice with concepts related to the
<a href="http://docs.plt-scheme.org/continue/index.html">Continue Tutorial</a>
you may write a model the will store user in a hash and
provide the following functions:
</div><div class="SIntrapara"><ul><li><p><span class="ScmSym">create-user</span></p></li><li><p><span class="ScmSym">user-status</span></p></li><li><p><span class="ScmSym">user-status-update!</span></p></li><li><p><span class="ScmSym">follow-user!</span></p></li><li><p><span class="ScmSym">user-following</span></p></li><li><p><span class="ScmSym">user-list</span></p></li><li><p><span class="ScmSym">user-follow-list</span></p></li></ul></div><div class="SIntrapara">Note: If you don&rsquo;t want or need the practice, the code you will use for the
tutorial will be provided at the end of this section.</div></p><p><span class="ScmSym">create-user</span>
<span class="ScmSym">user-status</span>
<span class="ScmSym">user-status-update!</span>
<span class="ScmSym">user-following</span>
<span class="ScmSym">follow-user!</span>
<span class="ScmSym">follow-user!</span></p><p>Now that you have the ability to add users to our hash. You can add
the HTML view to register a user. Recall PLT Scheme&rsquo;s solution for HTML from the
<a href="http://docs.plt-scheme.org/continue/index.html#%28part._.Rendering_.H.T.M.L%29">Rendering HTML</a>
section of the <a href="http://docs.plt-scheme.org/continue/index.html">Continue Tutorial</a>.</p><p><span style="font-weight: bold">Exercise.</span> Write two views. One for creating accounts, and login. The
other view will be to change your status add a user to follow, as well as show
all of the users available to be followed, and the list of users and status
you are currently following.
Note: If you don&rsquo;t want or need the parctice, the code you will use for the
tutorial will be provided at the end of this section.</p><p>Now that you have a view and a model.  You need to link their functionality
via a controller.  This file will have a start funciton that calls the
<span class="ScmSym">show-login</span> function. The function <span class="ScmSym">show-login</span> will have two handlers, register
and login. The <span class="ScmSym">reg-handler</span> will get the username and status from the
request, create a new user in the model with <span class="ScmSym">create-user</span>, and show the same login page, <span class="ScmSym">show-login</span>.
The <span class="ScmSym">login-handler</span> will take the username from the request, and render the
profile page with the information for that user, <span class="ScmPn">(</span><span class="ScmSym">show-profile</span><span class="stt"> </span><span class="ScmSym">username</span><span class="ScmPn">)</span>.</p><p>The show-profile function will take a username, and render the profile view
with the users information.  It will also have two handlers, update status
and follow user. The <span class="ScmSym">update-handler</span> will will get the new status
from the request and update the status in the model calling <span class="ScmSym">user-status-update!</span>.
The profile page will then be reloaded with the new status. The <span class="ScmSym">follow-handler</span>
will pull the &rsquo;follow&rsquo; binding from the request and call the <span class="ScmSym">follow-user!</span>
function to update the hash to add that user to the follow list.</p><p>If you would like some pracitce for  Write the controller as specified above.</p><p>Note: Below is the code referenced throughout the rest of the tutorial.
If you did the exersizes, congratulations for making it through in one piece. You can
either adapting your code so the inferfaces between MVC are similar, or noting the
differences so that the rest of the tutorial makes sense.</p><p><div class="SIntrapara">Model
</div><div class="SIntrapara"><table cellspacing="0" class="ScmBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><a href="file:///home/maestro/Dev/svn/plt/doc/guide/Module_Syntax.html#(part._hash-lang)" class="ScmModLink" pltdoc="x"><span class="ScmMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="file:///home/maestro/Dev/svn/plt/doc/reference/index.html" class="ScmModLink" pltdoc="x"><span class="ScmSym">scheme</span></a></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">require</span><span class="hspace">&nbsp;</span><span class="ScmSym">scheme/base</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">provide</span><span class="hspace">&nbsp;</span><span class="ScmSym">create-user!</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">user-status</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">user-status-update!</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">follow-user!</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">user-list</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">user-follow-list</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmCmt">;</span><span class="ScmCmt">&nbsp;</span><span class="ScmCmt">Model</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-ht</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-hash</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmSym">following-ht</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-hash</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">create-user!</span><span class="hspace">&nbsp;</span><span class="ScmSym">name</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">hash-set!</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-ht</span><span class="hspace">&nbsp;</span><span class="ScmSym">name</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-status</span><span class="hspace">&nbsp;</span><span class="ScmSym">name</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">hash-ref!</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-ht</span><span class="hspace">&nbsp;</span><span class="ScmSym">name</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">"no status"</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-status-update!</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">hash-set!</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-ht</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">follow-user!</span><span class="hspace">&nbsp;</span><span class="ScmSym">user</span><span class="hspace">&nbsp;</span><span class="ScmSym">usr-to-follow</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">hash-set!</span><span class="hspace">&nbsp;</span><span class="ScmSym">following-ht</span><span class="hspace">&nbsp;</span><span class="ScmSym">user</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">cons</span><span class="hspace">&nbsp;</span><span class="ScmSym">usr-to-follow</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-following</span><span class="hspace">&nbsp;</span><span class="ScmSym">user</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-following</span><span class="hspace">&nbsp;</span><span class="ScmSym">user</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">hash-ref!</span><span class="hspace">&nbsp;</span><span class="ScmSym">following-ht</span><span class="hspace">&nbsp;</span><span class="ScmSym">user</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">empty</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-list</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">hash-map</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-ht</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">k</span><span class="hspace">&nbsp;</span><span class="ScmSym">v</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">k</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-follow-list</span><span class="hspace">&nbsp;</span><span class="ScmSym">user</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">map</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">follow-name</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">list</span><span class="hspace">&nbsp;</span><span class="ScmSym">follow-name</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-status</span><span class="hspace">&nbsp;</span><span class="ScmSym">follow-name</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-following</span><span class="hspace">&nbsp;</span><span class="ScmSym">user</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr></table></div></p><p><div class="SIntrapara">View
</div><div class="SIntrapara"><table cellspacing="0" class="ScmBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><a href="file:///home/maestro/Dev/svn/plt/doc/guide/Module_Syntax.html#(part._hash-lang)" class="ScmModLink" pltdoc="x"><span class="ScmMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="file:///home/maestro/Dev/svn/plt/doc/reference/index.html" class="ScmModLink" pltdoc="x"><span class="ScmSym">scheme</span></a></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">provide</span><span class="hspace">&nbsp;</span><span class="ScmSym">render-login</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">render-profile</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmCmt">;</span><span class="ScmCmt">&nbsp;</span><span class="ScmCmt">View</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">render-login</span><span class="hspace">&nbsp;</span><span class="ScmSym">login-url</span><span class="hspace">&nbsp;</span><span class="ScmSym">reg-url</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmVal">`</span><span class="ScmVal">(</span><span class="ScmVal">html</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">head</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">title</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Fritter Register Page"</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">body</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">div</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">id</span><span class="hspace">&nbsp;</span><span class="ScmVal">"header"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">(</span><span class="ScmVal">h1</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Welcome to Fritter"</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">div</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">id</span><span class="hspace">&nbsp;</span><span class="ScmVal">"header"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">(</span><span class="ScmVal">h2</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Register"</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">form</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">action</span><span class="hspace">&nbsp;</span><span class="ScmRdr">,</span><span class="ScmSym">reg-url</span><span class="ScmVal">]</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">"User: "</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">input</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">type</span><span class="hspace">&nbsp;</span><span class="ScmVal">"text"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">name</span><span class="hspace">&nbsp;</span><span class="ScmVal">"user"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">"Status: "</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">input</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">type</span><span class="hspace">&nbsp;</span><span class="ScmVal">"text"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">name</span><span class="hspace">&nbsp;</span><span class="ScmVal">"status"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">input</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">type</span><span class="hspace">&nbsp;</span><span class="ScmVal">"submit"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">value</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Add User"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">div</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">id</span><span class="hspace">&nbsp;</span><span class="ScmVal">"header"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">(</span><span class="ScmVal">h2</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Login"</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">form</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">action</span><span class="hspace">&nbsp;</span><span class="ScmRdr">,</span><span class="ScmSym">login-url</span><span class="ScmVal">]</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">"User: "</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">input</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">type</span><span class="hspace">&nbsp;</span><span class="ScmVal">"text"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">name</span><span class="hspace">&nbsp;</span><span class="ScmVal">"user"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">input</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">type</span><span class="hspace">&nbsp;</span><span class="ScmVal">"submit"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">value</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Login"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">render-profile</span><span class="hspace">&nbsp;</span><span class="ScmSym">name</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="hspace">&nbsp;</span><span class="ScmSym">update-url</span><span class="hspace">&nbsp;</span><span class="ScmSym">follow-url</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-list</span><span class="hspace">&nbsp;</span><span class="ScmSym">following-list</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmVal">`</span><span class="ScmVal">(</span><span class="ScmVal">html</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">head</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">title</span><span class="hspace">&nbsp;</span><span class="ScmVal">"User Feed"</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">body</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">div</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">id</span><span class="hspace">&nbsp;</span><span class="ScmVal">"profile"</span><span class="ScmVal">]</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">h1</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Feed for "</span><span class="hspace">&nbsp;</span><span class="ScmRdr">,</span><span class="ScmSym">name</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">form</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">action</span><span class="hspace">&nbsp;</span><span class="ScmRdr">,</span><span class="ScmSym">update-url</span><span class="ScmVal">]</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">"Status: "</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">input</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">type</span><span class="hspace">&nbsp;</span><span class="ScmVal">"text"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">name</span><span class="hspace">&nbsp;</span><span class="ScmVal">"status"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">value</span><span class="hspace">&nbsp;</span><span class="ScmRdr">,</span><span class="ScmSym">status</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">input</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">type</span><span class="hspace">&nbsp;</span><span class="ScmVal">"submit"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">value</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Update"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">form</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">action</span><span class="hspace">&nbsp;</span><span class="ScmRdr">,</span><span class="ScmSym">follow-url</span><span class="ScmVal">]</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">"Follow User: "</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">input</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">type</span><span class="hspace">&nbsp;</span><span class="ScmVal">"text"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">name</span><span class="hspace">&nbsp;</span><span class="ScmVal">"follow"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">input</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">type</span><span class="hspace">&nbsp;</span><span class="ScmVal">"submit"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">value</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Follow"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">div</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">id</span><span class="hspace">&nbsp;</span><span class="ScmVal">"users"</span><span class="ScmVal">]</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">h1</span><span class="hspace">&nbsp;</span><span class="ScmVal">"User List"</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">ul</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmRdr">,@</span><span class="ScmPn">(</span><span class="ScmSym">map</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">name</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">`</span><span class="ScmVal">(</span><span class="ScmVal">li</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">h4</span><span class="hspace">&nbsp;</span><span class="ScmRdr">,</span><span class="ScmSym">name</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">user-list</span><span class="ScmPn">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">div</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">id</span><span class="hspace">&nbsp;</span><span class="ScmVal">"content"</span><span class="ScmVal">]</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">h1</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Follow feed"</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">ul</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmRdr">,@</span><span class="ScmPn">(</span><span class="ScmSym">map</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">name-status-pair</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">`</span><span class="ScmVal">(</span><span class="ScmVal">li</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">h3</span><span class="hspace">&nbsp;</span><span class="ScmRdr">,</span><span class="ScmPn">(</span><span class="ScmSym">car</span><span class="hspace">&nbsp;</span><span class="ScmSym">name-status-pair</span><span class="ScmPn">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">h4</span><span class="hspace">&nbsp;</span><span class="ScmRdr">,@</span><span class="ScmPn">(</span><span class="ScmSym">cdr</span><span class="hspace">&nbsp;</span><span class="ScmSym">name-status-pair</span><span class="ScmPn">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">following-list</span><span class="ScmPn">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmPn">)</span></td></tr></table></div></p><p><div class="SIntrapara">Controller
</div><div class="SIntrapara"><table cellspacing="0" class="ScmBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><a href="file:///home/maestro/Dev/svn/plt/doc/guide/Module_Syntax.html#(part._hash-lang)" class="ScmModLink" pltdoc="x"><span class="ScmMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="file:///home/maestro/Dev/svn/plt/doc/reference/index.html" class="ScmModLink" pltdoc="x"><span class="ScmSym">scheme</span></a></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">require</span><span class="hspace">&nbsp;</span><span class="ScmSym">web-server/servlet-env</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">planet</span><span class="hspace">&nbsp;</span><span class="ScmSym">byu-plt/flowww:1:0</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">"view-1.ss"</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">"model-1.ss"</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">scheme/base</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmCmt">;</span><span class="ScmCmt">&nbsp;</span><span class="ScmCmt">Controller</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">show-login</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">let*</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmPn">[</span><span class="ScmSym">reg-handler</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">request</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">binding-&gt;string</span><span class="hspace">&nbsp;</span><span class="ScmVal">#"user"</span><span class="hspace">&nbsp;</span><span class="ScmSym">request</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">binding-&gt;string</span><span class="hspace">&nbsp;</span><span class="ScmVal">#"status"</span><span class="hspace">&nbsp;</span><span class="ScmSym">request</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">create-user!</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">show-login</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">]</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">[</span><span class="ScmSym">login-handler</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">request</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">binding-&gt;string</span><span class="hspace">&nbsp;</span><span class="ScmVal">#"user"</span><span class="hspace">&nbsp;</span><span class="ScmSym">request</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">show-profile</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">]</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">[</span><span class="ScmSym">response-generator</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-url</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">render-login</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-url</span><span class="hspace">&nbsp;</span><span class="ScmSym">login-handler</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-url</span><span class="hspace">&nbsp;</span><span class="ScmSym">reg-handler</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">]</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">send/suspend/dispatch</span><span class="hspace">&nbsp;</span><span class="ScmSym">response-generator</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">show-profile</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">let*</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmPn">[</span><span class="ScmSym">update-handler</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">request</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">binding-&gt;string</span><span class="hspace">&nbsp;</span><span class="ScmVal">#"status"</span><span class="hspace">&nbsp;</span><span class="ScmSym">request</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-status-update!</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">show-profile</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">]</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">[</span><span class="ScmSym">follow-handler</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">request</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmSym">follow</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">binding-&gt;string</span><span class="hspace">&nbsp;</span><span class="ScmVal">#"follow"</span><span class="hspace">&nbsp;</span><span class="ScmSym">request</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">follow-user!</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="hspace">&nbsp;</span><span class="ScmSym">follow</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">show-profile</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">]</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">[</span><span class="ScmSym">response-generator</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-url</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">render-profile</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-status</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-url</span><span class="hspace">&nbsp;</span><span class="ScmSym">update-handler</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-url</span><span class="hspace">&nbsp;</span><span class="ScmSym">follow-handler</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-list</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-follow-list</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">]</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">send/suspend/dispatch</span><span class="hspace">&nbsp;</span><span class="ScmSym">response-generator</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmCmt">;</span><span class="ScmCmt">&nbsp;</span><span class="ScmCmt">Run Server</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmPn">(</span><span class="ScmSym">make-start</span><span class="ScmPn">)</span><span class="hspace">&nbsp;</span><span class="ScmSym">request</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">show-login</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">serve/servlet</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">wrap-start</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-start</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr></table></div></p><p>Note: In the controller, you&rsquo;ll notice the use of <span class="ScmSym">binding-&gt;string</span>. This is a helper function provided
by <span class="ScmSym">flowww-lib</span>.  Someother helper function include <span class="ScmSym">post-data-&gt;string</span>, <span class="ScmSym">quote-string</span>, and <span class="ScmSym">escape-string</span></p><h3>4<tt>&nbsp;</tt><a name="(part._.Adding_.Flowww___)"></a>Adding Flowww...</h3><p><span style="font-weight: bold">Not unsimilar to adding Mojo to your Web app.</span></p><p>Anyone who has done AJAX programming on the Web knows that it can be a pain. Flowww is designed to
ease the suffering. It can be difficult to set up pulling and updating for variables in Web programs.
It can also be just plain boring. So let&rsquo;s see how Flowww helps.</p><p>Flowww provides 3 functions and 2 Javascript abstractions to accomplish updating. The functions you will
use are <span class="ScmSym">func-arg-evt</span>, <span class="ScmSym">func-arg-bhv</span>, and <span class="ScmSym">flowww-handler</span>.  You will also use
<span class="ScmSym">flowww-script</span> and <span class="ScmSym">flowww-post</span> to avoid writing some of the Javascript.</p><p>First, you will adapt the model to behave reactively. The first step is to is to add a signal to the
functions that make a change to the persitant data store, the hash in our case. You will accomplish this
by using <span class="ScmSym">send-event</span> provided by FrTime. The first argument will be <span class="ScmSym">func-arg-evt</span> from <span class="ScmSym">flowww-lib</span>, and
the second will be whatever symbol you would like to pass through your event (i.e. <span class="ScmVal">'</span><span class="ScmVal">changed</span>).
<span class="ScmSym">func-arg-event</span> will take the name of the function that the controller calls to get the value
of the data being updated, and the arguments for that function.</p><p><div class="SIntrapara">Thus...
</div><div class="SIntrapara"><table cellspacing="0" class="ScmBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/reference/define.html#(form._((lib._scheme/base..ss)._define))" class="ScmStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-status-update!</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash-set!))" class="ScmValLink" pltdoc="x">hash-set!</a></span><span class="hspace">&nbsp;</span><span class="ScmSym">user-ht</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr></table></div><div class="SIntrapara">...becomes...
</div><div class="SIntrapara"><table cellspacing="0" class="ScmBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/reference/define.html#(form._((lib._scheme/base..ss)._define))" class="ScmStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-status-update!</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/reference/hashtables.html#(def._((quote._~23~25kernel)._hash-set!))" class="ScmValLink" pltdoc="x">hash-set!</a></span><span class="hspace">&nbsp;</span><span class="ScmSym">user-ht</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">send-event</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">func-arg-evt</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-status</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="ScmPn">)</span><span class="hspace">&nbsp;</span><span class="ScmVal">'</span><span class="ScmVal">changed</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr></table></div></p><p><span style="font-weight: bold">Exercise.</span> Adapt the rest of the update functions.</p><p>Next, you need to alter the "getter" functions to become behaviors that update as the persistant store
changes. You will use <span class="ScmSym">func-arg-bhv</span> to turn the funcitons into behavoirs.</p><p><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/reference/define.html#(form._((lib._scheme/base..ss)._define))" class="ScmStxLink" pltdoc="x">define</a></span><span class="stt"> </span><span class="ScmSym">user-status-b</span><span class="stt"> </span><span class="ScmPn">(</span><span class="ScmSym">func-arg-bhv</span><span class="stt"> </span><span class="ScmSym">user-status</span><span class="ScmPn">)</span><span class="ScmPn">)</span></p><p>You must then provide the new function for external calls so they only see behavoirs.</p><p><span style="font-weight: bold">Exercise.</span> Alter the remainder of the file.</p><p>That is all you have to do to the model. Yep that&rsquo;s it. Now let&rsquo;s fix the controller.
You will use the Javascript abstractions in the controller. Let&rsquo;s add them.</p><p>First, an overview of what they are.  <span class="ScmSym">flowww-script</span> contains the Javascript functions needed
to post data for the AJAX application. <span class="ScmSym">flowww-post</span> formats the url in Javascript and calls the
functions in <span class="ScmSym">floww-script</span> to post the data from the second argument.</p><p><div class="SIntrapara">So there are a few things to change. You need to pass the <span class="ScmSym">flowww-script</span> to all of the views that need
to post data. For example,
</div><div class="SIntrapara"><table cellspacing="0" class="ScmBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">render-profile</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-status</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/net/url.html#(def._((lib._net/url-structs..ss)._make-url))" class="ScmValLink" pltdoc="x">make-url</a></span><span class="hspace">&nbsp;</span><span class="ScmSym">update-handler</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/net/url.html#(def._((lib._net/url-structs..ss)._make-url))" class="ScmValLink" pltdoc="x">make-url</a></span><span class="hspace">&nbsp;</span><span class="ScmSym">follow-handler</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-list</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-follow-list</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">flowww-script</span><span class="ScmPn">)</span></td></tr></table></div></p><p><div class="SIntrapara">Any handler that you want to be handled as AJAX instead of loading a new page will need
to be updated. You can use this using <span class="ScmSym">flowww-handler</span> as follows.
</div><div class="SIntrapara"><table cellspacing="0" class="ScmBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">[</span><span class="ScmSym">update-handler</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/reference/lambda.html#(form._((lib._scheme/base..ss)._lambda))" class="ScmStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/web-server/http.html#(def._((lib._web-server/http/request-structs..ss)._request))" class="ScmValLink" pltdoc="x">request</a></span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/reference/define.html#(form._((lib._scheme/base..ss)._define))" class="ScmStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">binding-&gt;string</span><span class="hspace">&nbsp;</span><span class="ScmVal">#"status"</span><span class="hspace">&nbsp;</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/web-server/http.html#(def._((lib._web-server/http/request-structs..ss)._request))" class="ScmValLink" pltdoc="x">request</a></span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-status-update!</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">show-profile</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">]</span></td></tr></table></div><div class="SIntrapara">...will be updated to read...
</div><div class="SIntrapara"><table cellspacing="0" class="ScmBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">[</span><span class="ScmSym">update-handler</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">flowww-handler</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/reference/lambda.html#(form._((lib._scheme/base..ss)._lambda))" class="ScmStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/web-server/http.html#(def._((lib._web-server/http/request-structs..ss)._request))" class="ScmValLink" pltdoc="x">request</a></span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/reference/define.html#(form._((lib._scheme/base..ss)._define))" class="ScmStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">binding-&gt;string</span><span class="hspace">&nbsp;</span><span class="ScmVal">#"status"</span><span class="hspace">&nbsp;</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/web-server/http.html#(def._((lib._web-server/http/request-structs..ss)._request))" class="ScmValLink" pltdoc="x">request</a></span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-status-update!</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">]</span></td></tr></table></div></p><p><div class="SIntrapara">Finally, you will need to change the urls of AJAX requests. <span class="ScmSym">flowww-post</span> will help
us make the switch. It will take the url made from the handler, and the data to post. The only
drawback is the function will be called in the HTML using Javascript when the user triggers
the event. So it will have to be written in Javascript using <a href="http://planet.plt-scheme.org/package-source/jaymccarthy/javascript.plt/1/2/doc.txt">this syntax</a>.
For example, if you want to get the status value out of the textbox you would write something
similar to the code below.
</div><div class="SIntrapara"><table cellspacing="0" class="ScmBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/reference/createclass.html#(form._((lib._scheme/private/class-internal..ss)._field))" class="ScmStxLink" pltdoc="x">field</a></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmPn">(</span><span class="ScmSym"><a href="file:///home/maestro/Dev/svn/plt/doc/reference/createclass.html#(form._((lib._scheme/private/class-internal..ss)._field))" class="ScmStxLink" pltdoc="x">field</a></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">document</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">getElementById</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmVal">"status"</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;</span><span class="ScmSym">value</span><span class="ScmPn">)</span></td></tr></table></div></p><p><span style="font-weight: bold">Exercise.</span> Finish up the conversion of the controller.</p><p>You are almost done. You only have the view left to do. Unfortunately, there is a step
in this process that is more complicated then it should be. In order for the behavoirs
to be updated and render correctly in the HTML, the HTML <span class="ScmSym">s-exrp</span> need to be
slightly hacked. Since this is the only difference, it is best explained by showing
the new code and letting you look over it. Essentially, an empty string needs to be
added to the end of lists that contain behaviors. Check out the code below for further
understanding.</p><p><div class="SIntrapara">Here is the finished view...
</div><div class="SIntrapara"><table cellspacing="0" class="ScmBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><a href="file:///home/maestro/Dev/svn/plt/doc/guide/Module_Syntax.html#(part._hash-lang)" class="ScmModLink" pltdoc="x"><span class="ScmMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="file:///home/maestro/Dev/svn/plt/doc/frtime/index.html" class="ScmModLink" pltdoc="x"><span class="ScmSym">frtime</span></a></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">provide</span><span class="hspace">&nbsp;</span><span class="ScmSym">render-login</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">render-profile</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmCmt">;</span><span class="ScmCmt">&nbsp;</span><span class="ScmCmt">View</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">render-login</span><span class="hspace">&nbsp;</span><span class="ScmSym">login-url</span><span class="hspace">&nbsp;</span><span class="ScmSym">reg-url</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmVal">`</span><span class="ScmVal">(</span><span class="ScmVal">html</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">head</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">title</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Fritter Register Page"</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">body</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">div</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">id</span><span class="hspace">&nbsp;</span><span class="ScmVal">"header"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">(</span><span class="ScmVal">h1</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Welcome to Fritter"</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">div</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">id</span><span class="hspace">&nbsp;</span><span class="ScmVal">"header"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">(</span><span class="ScmVal">h2</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Register"</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">form</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">action</span><span class="hspace">&nbsp;</span><span class="ScmRdr">,</span><span class="ScmSym">reg-url</span><span class="ScmVal">]</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">"User: "</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">input</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">type</span><span class="hspace">&nbsp;</span><span class="ScmVal">"text"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">name</span><span class="hspace">&nbsp;</span><span class="ScmVal">"user"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">"Status: "</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">input</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">type</span><span class="hspace">&nbsp;</span><span class="ScmVal">"text"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">name</span><span class="hspace">&nbsp;</span><span class="ScmVal">"status"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">input</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">type</span><span class="hspace">&nbsp;</span><span class="ScmVal">"submit"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">value</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Add User"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">div</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">id</span><span class="hspace">&nbsp;</span><span class="ScmVal">"header"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">(</span><span class="ScmVal">h2</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Login"</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">form</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">action</span><span class="hspace">&nbsp;</span><span class="ScmRdr">,</span><span class="ScmSym">login-url</span><span class="ScmVal">]</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">"User: "</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">input</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">type</span><span class="hspace">&nbsp;</span><span class="ScmVal">"text"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">name</span><span class="hspace">&nbsp;</span><span class="ScmVal">"user"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">input</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">type</span><span class="hspace">&nbsp;</span><span class="ScmVal">"submit"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">value</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Login"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">render-profile</span><span class="hspace">&nbsp;</span><span class="ScmSym">name</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="hspace">&nbsp;</span><span class="ScmSym">update-url</span><span class="hspace">&nbsp;</span><span class="ScmSym">follow-url</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-list</span><span class="hspace">&nbsp;</span><span class="ScmSym">following-list</span><span class="hspace">&nbsp;</span><span class="ScmSym">script</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmVal">`</span><span class="ScmVal">(</span><span class="ScmVal">html</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">head</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">title</span><span class="hspace">&nbsp;</span><span class="ScmVal">"User Feed"</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmRdr">,</span><span class="ScmSym">script</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">body</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">div</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">id</span><span class="hspace">&nbsp;</span><span class="ScmVal">"profile"</span><span class="ScmVal">]</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">h1</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Feed for "</span><span class="hspace">&nbsp;</span><span class="ScmRdr">,</span><span class="ScmSym">name</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">form</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">action</span><span class="hspace">&nbsp;</span><span class="ScmRdr">,</span><span class="ScmSym">update-url</span><span class="ScmVal">]</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">"Status: "</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">input</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">type</span><span class="hspace">&nbsp;</span><span class="ScmVal">"text"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">name</span><span class="hspace">&nbsp;</span><span class="ScmVal">"status"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">value</span><span class="hspace">&nbsp;</span><span class="ScmRdr">,</span><span class="ScmSym">status</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">input</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">type</span><span class="hspace">&nbsp;</span><span class="ScmVal">"submit"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">value</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Update"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">form</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">action</span><span class="hspace">&nbsp;</span><span class="ScmRdr">,</span><span class="ScmSym">follow-url</span><span class="ScmVal">]</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">"Follow User: "</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">input</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">type</span><span class="hspace">&nbsp;</span><span class="ScmVal">"text"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">name</span><span class="hspace">&nbsp;</span><span class="ScmVal">"follow"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">input</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">type</span><span class="hspace">&nbsp;</span><span class="ScmVal">"submit"</span><span class="ScmVal">]</span><span class="hspace">&nbsp;</span><span class="ScmVal">[</span><span class="ScmVal">value</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Follow"</span><span class="ScmVal">]</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">div</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">id</span><span class="hspace">&nbsp;</span><span class="ScmVal">"users"</span><span class="ScmVal">]</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">h1</span><span class="hspace">&nbsp;</span><span class="ScmVal">"User List"</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">ul</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmRdr">,@</span><span class="ScmPn">(</span><span class="ScmSym">map</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">name</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">`</span><span class="ScmVal">(</span><span class="ScmVal">li</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">h4</span><span class="hspace">&nbsp;</span><span class="ScmRdr">,</span><span class="ScmSym">name</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">user-list</span><span class="ScmPn">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">div</span><span class="hspace">&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">[</span><span class="ScmVal">id</span><span class="hspace">&nbsp;</span><span class="ScmVal">"content"</span><span class="ScmVal">]</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">h1</span><span class="hspace">&nbsp;</span><span class="ScmVal">"Follow feed"</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">ul</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmRdr">,@</span><span class="ScmPn">(</span><span class="ScmSym">map</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">name-status-pair</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">`</span><span class="ScmVal">(</span><span class="ScmVal">li</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">h3</span><span class="hspace">&nbsp;</span><span class="ScmRdr">,</span><span class="ScmPn">(</span><span class="ScmSym">car</span><span class="hspace">&nbsp;</span><span class="ScmSym">name-status-pair</span><span class="ScmPn">)</span><span class="ScmVal">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">(</span><span class="ScmVal">h4</span><span class="hspace">&nbsp;</span><span class="ScmRdr">,@</span><span class="ScmPn">(</span><span class="ScmSym">cdr</span><span class="hspace">&nbsp;</span><span class="ScmSym">name-status-pair</span><span class="ScmPn">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">following-list</span><span class="ScmPn">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmVal">)</span><span class="ScmPn">)</span></td></tr></table></div></p><p><div class="SIntrapara">Here is the final controller...
</div><div class="SIntrapara"><table cellspacing="0" class="ScmBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><a href="file:///home/maestro/Dev/svn/plt/doc/guide/Module_Syntax.html#(part._hash-lang)" class="ScmModLink" pltdoc="x"><span class="ScmMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="file:///home/maestro/Dev/svn/plt/doc/frtime/index.html" class="ScmModLink" pltdoc="x"><span class="ScmSym">frtime</span></a></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">require</span><span class="hspace">&nbsp;</span><span class="ScmSym">web-server/servlet-env</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">planet</span><span class="hspace">&nbsp;</span><span class="ScmSym">byu-plt/flowww:1:0</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">"view-2.ss"</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">"model-2.ss"</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">scheme/base</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmCmt">;</span><span class="ScmCmt">&nbsp;</span><span class="ScmCmt">Controller</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">show-login</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">let*</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmPn">[</span><span class="ScmSym">reg-handler</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">request</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">binding-&gt;string</span><span class="hspace">&nbsp;</span><span class="ScmVal">#"user"</span><span class="hspace">&nbsp;</span><span class="ScmSym">request</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">binding-&gt;string</span><span class="hspace">&nbsp;</span><span class="ScmVal">#"status"</span><span class="hspace">&nbsp;</span><span class="ScmSym">request</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">create-user!</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">show-login</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">]</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">[</span><span class="ScmSym">login-handler</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">request</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">binding-&gt;string</span><span class="hspace">&nbsp;</span><span class="ScmVal">#"user"</span><span class="hspace">&nbsp;</span><span class="ScmSym">request</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">show-profile</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">]</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">[</span><span class="ScmSym">response-generator</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-url</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">render-login</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-url</span><span class="hspace">&nbsp;</span><span class="ScmSym">login-handler</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-url</span><span class="hspace">&nbsp;</span><span class="ScmSym">reg-handler</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">]</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">send/suspend/dispatch</span><span class="hspace">&nbsp;</span><span class="ScmSym">response-generator</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">show-profile</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">let*</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmPn">[</span><span class="ScmSym">update-handler</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">flowww-handler</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">request</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmSym">post-data</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">post-data-&gt;string</span><span class="hspace">&nbsp;</span><span class="ScmSym">request</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-status-update!</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="hspace">&nbsp;</span><span class="ScmSym">post-data</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">]</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">[</span><span class="ScmSym">follow-handler</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">flowww-handler</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">request</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmSym">post-data</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">post-data-&gt;string</span><span class="hspace">&nbsp;</span><span class="ScmSym">request</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">follow-user!</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="hspace">&nbsp;</span><span class="ScmSym">post-data</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">]</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">[</span><span class="ScmSym">response-generator</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-url</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">render-profile</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-status-b</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">flowww-post</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-url</span><span class="hspace">&nbsp;</span><span class="ScmSym">update-handler</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">field</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmPn">(</span><span class="ScmSym">field</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">document</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">getElementById</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">"status"</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">value</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">flowww-post</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-url</span><span class="hspace">&nbsp;</span><span class="ScmSym">follow-handler</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">field</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmPn">(</span><span class="ScmSym">field</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">document</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">getElementById</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">"follow"</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">value</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-list-b</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-follow-list-b</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">flowww-script</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">]</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">send/suspend/dispatch</span><span class="hspace">&nbsp;</span><span class="ScmSym">response-generator</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmCmt">;</span><span class="ScmCmt">&nbsp;</span><span class="ScmCmt">Run Server</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmPn">(</span><span class="ScmSym">make-start</span><span class="ScmPn">)</span><span class="hspace">&nbsp;</span><span class="ScmSym">request</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">show-login</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">serve/frp</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">wrap-start</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-start</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr></table></div></p><p><div class="SIntrapara">And the resulting model...
</div><div class="SIntrapara"><table cellspacing="0" class="ScmBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><a href="file:///home/maestro/Dev/svn/plt/doc/guide/Module_Syntax.html#(part._hash-lang)" class="ScmModLink" pltdoc="x"><span class="ScmMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="file:///home/maestro/Dev/svn/plt/doc/frtime/index.html" class="ScmModLink" pltdoc="x"><span class="ScmSym">frtime</span></a></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">require</span><span class="hspace">&nbsp;</span><span class="ScmSym">scheme/base</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">planet</span><span class="hspace">&nbsp;</span><span class="ScmSym">byu-plt/flowww:1:0</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">provide</span><span class="hspace">&nbsp;</span><span class="ScmSym">create-user!</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">user-status-b</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">user-status-update!</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">follow-user!</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">user-list-b</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">user-follow-list-b</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmCmt">;</span><span class="ScmCmt">&nbsp;</span><span class="ScmCmt">Model</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-ht</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-hash</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmSym">following-ht</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">make-hash</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">create-user!</span><span class="hspace">&nbsp;</span><span class="ScmSym">name</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">hash-set!</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-ht</span><span class="hspace">&nbsp;</span><span class="ScmSym">name</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">changed</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">func-arg-evt</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-list</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-status</span><span class="hspace">&nbsp;</span><span class="ScmSym">name</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">hash-ref!</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-ht</span><span class="hspace">&nbsp;</span><span class="ScmSym">name</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmVal">"no status"</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-status-b</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">func-arg-bhv</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-status</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-status-update!</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">hash-set!</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-ht</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="hspace">&nbsp;</span><span class="ScmSym">status</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">changed</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">func-arg-evt</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-status</span><span class="hspace">&nbsp;</span><span class="ScmSym">username</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">follow-user!</span><span class="hspace">&nbsp;</span><span class="ScmSym">user</span><span class="hspace">&nbsp;</span><span class="ScmSym">usr-to-follow</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">hash-set!</span><span class="hspace">&nbsp;</span><span class="ScmSym">following-ht</span><span class="hspace">&nbsp;</span><span class="ScmSym">user</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">cons</span><span class="hspace">&nbsp;</span><span class="ScmSym">usr-to-follow</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-following</span><span class="hspace">&nbsp;</span><span class="ScmSym">user</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">changed</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">func-arg-evt</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-following</span><span class="hspace">&nbsp;</span><span class="ScmSym">user</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-following</span><span class="hspace">&nbsp;</span><span class="ScmSym">user</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">hash-ref!</span><span class="hspace">&nbsp;</span><span class="ScmSym">following-ht</span><span class="hspace">&nbsp;</span><span class="ScmSym">user</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">empty</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-following-b</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">func-arg-bhv</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-following</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-list</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">hash-map</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-ht</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">k</span><span class="hspace">&nbsp;</span><span class="ScmSym">v</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmSym">k</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-list-b</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">func-arg-bhv</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-list</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-follow-list</span><span class="hspace">&nbsp;</span><span class="ScmSym">user</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">map</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">lambda</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">follow-name</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">list</span><span class="hspace">&nbsp;</span><span class="ScmSym">follow-name</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-status-b</span><span class="hspace">&nbsp;</span><span class="ScmSym">follow-name</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">user-following</span><span class="hspace">&nbsp;</span><span class="ScmSym">user</span><span class="ScmPn">)</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span></td></tr><tr><td><span class="ScmPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="ScmPn">(</span><span class="ScmSym">define</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-follow-list-b</span><span class="hspace">&nbsp;</span><span class="ScmPn">(</span><span class="ScmSym">func-arg-bhv</span><span class="hspace">&nbsp;</span><span class="ScmSym">user-follow-list</span><span class="ScmPn">)</span><span class="ScmPn">)</span></td></tr></table></div></p><p>Flowww provides the tools needed to create the next level of Web Applications. With all
of the AJAX implementation details abstracted away, developers can focus on the essence
of their creations. Their minds can be free to explore sophisticated solutions to new
problems that were never tackled before due to excessive complication of lower level
details. Some individuals with various perspectives and expertise may now be able to put
together a novel application and introduce new innovation that would not have been
possible without the abstraction Flowww provides. We hope that you find it useful, and
invite you to go change the world.</p></div></div><div id="contextindicator">&nbsp;</div></body></html>